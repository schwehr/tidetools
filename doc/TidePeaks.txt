TidePeaks

The program tidePeaks takes files of the timestamp height format, as generated by tideConvert, tideTrim, tideFilter, and outputs the values for the highs and lows. This is used for finding tidal offsets.
Contents
 [hide] 

    1 The Tools
    2 Algorithm
    3 Command Line Options and Arguments
    4 Examples

[edit] The Tools

    tideConvert - to generate water level in a standard format from recorded data
    tidePlot - to visually check the result and see any significant data gaps
    tideTrim - to remove outliers
    tideFilter - to smooth the data
    tidePeaks - analysis for offsets and scale
    tideResample - interpolates and downsamples (under development and testing) 

[edit] Algorithm

The height value is analyzed over a time window similar to the window of a boxcar data filter, but in this case, the maximum and minimum of the window are determined and the values are not changed. Meanwhile the data is compared to the previous values to see if the trend is an increase or decrease (rising tide or falling tide). Critical points are those at which the trend changes and the maximum or minimum of the window is the center data point in the window. The trend determines whether the critical point is a minimum (low tide) or maximum (high tide).

The output consists of time (in appropriate format) the height, a single letter ('H' or 'L') indicating the type of tidal extreme, and any additional data associated with the input. For example:

2008/05/11 08:21:25     4.236301        H       AdamsPt

[edit] Command Line Options and Arguments
Short 	Long 	Type 	Default 	Description
-i 	--input-files 	[path/]filename 	None 	

Which files to process. This option may be used more than once. Command line arguements will be interpreted as input file names. If there is no input specified either as an option or as an argument, STDIN will be used for input. (Path is optional.)
-I 	--InputFormat 	One of:
caris
matlab
UNIXepoch
	caris 	time format for output

caris
    YY/mm/dd HH:MM:SS.sss 
matlab
    YY mm dd HH MM SS.sss 
UNIXepoch
    SSSSSSSS.ss 

-o 	--outputFile 	[path/]filename 	None 	

The file to write the output to. If no file is specified, the output will go to STDOUT.
-O 	--outputFormat 	One of:
caris
matlab
UNIXepoch
	caris 	time format for output

caris
    YY/mm/dd HH:MM:SS.sss 
matlab
    YY mm dd HH MM SS.sss 
UNIXepoch
    SSSSSSSS.ss 

-l 	--label 	<text> 	None 	the label (station ID) to add to each output line
-w 	--window 	HH:MM:SS 	1:00:00 (1 hour) 	the time window within which to find peak

values. The window is centered around the curve's critical points.
-v 	--verbose 	flag 	False 	

Run with status output to stderr
[edit] Examples
A sample of tidal data with the peaks selected (and connected by a red line in the plot).
A detail of the one the peaks.
